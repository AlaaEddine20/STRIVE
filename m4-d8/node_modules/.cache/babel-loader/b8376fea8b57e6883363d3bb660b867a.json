{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\mondo\\\\Desktop\\\\STRIVE\\\\m4-d8\\\\src\\\\components\\\\ReservationForm.jsx\";\nimport React from \"react\";\nimport { Alert, Button, Col, Form, Row, Spinner } from \"react-bootstrap\";\n\nclass ReservationForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      reservation: {\n        name: \"\",\n        phone: \"\",\n        numberOfPersons: \"1\",\n        smoking: false,\n        dateTime: \"\",\n        specialRequests: \"\"\n      },\n      errMessage: \"\",\n      loading: false,\n      showAlert: false\n    };\n\n    this.updateReservationField = e => {\n      let reservation = { ...this.state.reservation\n      }; // creating a copy of the current state\n\n      let currentId = e.currentTarget.id; // 'name', 'phone', etc.\n\n      if (currentId === \"smoking\") {\n        reservation[currentId] = e.currentTarget.checked;\n      } else {\n        reservation[currentId] = e.currentTarget.value; // e.currentTarget.value is the keystroke\n      } //reservation['name'] --> reservation.name = 'S'\n      //reservation['phone'] --> reservation.phone = '3'\n\n\n      this.setState({\n        reservation: reservation\n      });\n    };\n\n    this.submitReservation = async e => {\n      e.preventDefault();\n      this.setState({\n        loading: true\n      });\n\n      try {\n        let response = await fetch(\"https://striveschool.herokuapp.com/api/reservationn\", {\n          method: \"POST\",\n          body: JSON.stringify(this.state.reservation),\n          headers: new Headers({\n            \"Content-Type\": \"application/json\"\n          })\n        });\n\n        if (response.ok) {\n          alert(\"Reservation saved!\");\n          this.setState({\n            reservation: {\n              name: \"\",\n              phone: \"\",\n              numberOfPersons: \"1\",\n              smoking: false,\n              dateTime: \"\",\n              specialRequests: \"\"\n            },\n            errMessage: \"\",\n            loading: false\n          });\n        } else {\n          console.log(\"an error occurred\");\n          let error = await response.json();\n          this.setState({\n            errMessage: error.message,\n            loading: false\n          });\n        }\n      } catch (e) {\n        console.log(e); // Error\n\n        this.setState({\n          errMessage: e.message,\n          loading: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.errMessage && this.state.showAlert ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        onhide: () => this.setState({\n          showAlert: false,\n          errMessage: \"\"\n        }),\n        dismissible: true,\n        children: [\"We encountered a problem with your request\", this.state.errMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Form, {\n        className: \"w-100 mb-5\",\n        onSubmit: this.submitReservation,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"name\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"name\",\n                id: \"name\",\n                placeholder: \"Your name\",\n                value: this.state.reservation.name,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"phone\",\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                name: \"phone\",\n                id: \"phone\",\n                placeholder: \"Your phone\",\n                required: true,\n                value: this.state.reservation.phone,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"numberOfPersons\",\n                children: \"How many people?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                name: \"numberOfPersons\",\n                id: \"numberOfPersons\",\n                value: this.state.reservation.numberOfPersons,\n                onChange: this.updateReservationField,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 2,\n            className: \"flex flex-column align-self-end\",\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.Label, {\n                children: /*#__PURE__*/_jsxDEV(Form.Check, {\n                  type: \"checkbox\",\n                  id: \"smoking\",\n                  label: \"Smoking?\",\n                  checked: this.state.reservation.smoking,\n                  onChange: this.updateReservationField\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"dateTime\",\n                children: \"Date and Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"datetime-local\",\n                name: \"dateTime\",\n                id: \"dateTime\",\n                placeholder: \"Date and Time\",\n                value: this.state.reservation.dateTime,\n                onChange: this.updateReservationField,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                htmlFor: \"specialRequests\",\n                children: \"Special requests\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"specialRequests\",\n                id: \"specialRequests\",\n                placeholder: \"Your special requests\",\n                value: this.state.reservation.specialRequests,\n                onChange: this.updateReservationField\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center my-5\",\n        children: [\"Reserving your table, please wait\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-2\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default ReservationForm;","map":{"version":3,"sources":["C:/Users/mondo/Desktop/STRIVE/m4-d8/src/components/ReservationForm.jsx"],"names":["React","Alert","Button","Col","Form","Row","Spinner","ReservationForm","Component","state","reservation","name","phone","numberOfPersons","smoking","dateTime","specialRequests","errMessage","loading","showAlert","updateReservationField","e","currentId","currentTarget","id","checked","value","setState","submitReservation","preventDefault","response","fetch","method","body","JSON","stringify","headers","Headers","ok","alert","console","log","error","json","message","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Alert, Button, Col, Form, Row, Spinner } from \"react-bootstrap\";\n\nclass ReservationForm extends React.Component {\n  state = {\n    reservation: {\n      name: \"\",\n      phone: \"\",\n      numberOfPersons: \"1\",\n      smoking: false,\n      dateTime: \"\",\n      specialRequests: \"\",\n    },\n    errMessage: \"\",\n    loading: false,\n    showAlert: false,\n  };\n\n  updateReservationField = (e) => {\n    let reservation = { ...this.state.reservation }; // creating a copy of the current state\n    let currentId = e.currentTarget.id; // 'name', 'phone', etc.\n\n    if (currentId === \"smoking\") {\n      reservation[currentId] = e.currentTarget.checked;\n    } else {\n      reservation[currentId] = e.currentTarget.value; // e.currentTarget.value is the keystroke\n    }\n    //reservation['name'] --> reservation.name = 'S'\n    //reservation['phone'] --> reservation.phone = '3'\n    this.setState({ reservation: reservation });\n  };\n\n  submitReservation = async (e) => {\n    e.preventDefault();\n    this.setState({ loading: true });\n    try {\n      let response = await fetch(\n        \"https://striveschool.herokuapp.com/api/reservationn\",\n        {\n          method: \"POST\",\n          body: JSON.stringify(this.state.reservation),\n          headers: new Headers({\n            \"Content-Type\": \"application/json\",\n          }),\n        }\n      );\n      if (response.ok) {\n        alert(\"Reservation saved!\");\n        this.setState({\n          reservation: {\n            name: \"\",\n            phone: \"\",\n            numberOfPersons: \"1\",\n            smoking: false,\n            dateTime: \"\",\n            specialRequests: \"\",\n          },\n          errMessage: \"\",\n          loading: false,\n        });\n      } else {\n        console.log(\"an error occurred\");\n        let error = await response.json();\n        this.setState({\n          errMessage: error.message,\n          loading: false,\n        });\n      }\n    } catch (e) {\n      console.log(e); // Error\n      this.setState({\n        errMessage: e.message,\n        loading: false,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.state.errMessage && this.state.showAlert ? (\n          <Alert\n            variant=\"danger\"\n            onhide={() => this.setState({ showAlert: false, errMessage: \"\" })}\n            dismissible\n          >\n            We encountered a problem with your request\n            {this.state.errMessage}\n          </Alert>\n        ) : (\n          <Form className=\"w-100 mb-5\" onSubmit={this.submitReservation}>\n            <Row>\n              <Col md={6}>\n                <Form.Group>\n                  <Form.Label htmlFor=\"name\">Name</Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    placeholder=\"Your name\"\n                    value={this.state.reservation.name}\n                    onChange={this.updateReservationField}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n              <Col md={6}>\n                <Form.Group>\n                  <Form.Label htmlFor=\"phone\">Phone</Form.Label>\n                  <Form.Control\n                    type=\"number\"\n                    name=\"phone\"\n                    id=\"phone\"\n                    placeholder=\"Your phone\"\n                    required\n                    value={this.state.reservation.phone}\n                    onChange={this.updateReservationField}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col md={5}>\n                <Form.Group>\n                  <Form.Label htmlFor=\"numberOfPersons\">\n                    How many people?\n                  </Form.Label>\n                  <Form.Control\n                    as=\"select\"\n                    name=\"numberOfPersons\"\n                    id=\"numberOfPersons\"\n                    value={this.state.reservation.numberOfPersons}\n                    onChange={this.updateReservationField}\n                  >\n                    <option>1</option>\n                    <option>2</option>\n                    <option>3</option>\n                    <option>4</option>\n                    <option>5</option>\n                    <option>6</option>\n                    <option>7</option>\n                    <option>8</option>\n                  </Form.Control>\n                </Form.Group>\n              </Col>\n              <Col md={2} className=\"flex flex-column align-self-end\">\n                <Form.Group>\n                  <Form.Label>\n                    <Form.Check\n                      type=\"checkbox\"\n                      id=\"smoking\"\n                      label=\"Smoking?\"\n                      checked={this.state.reservation.smoking}\n                      onChange={this.updateReservationField}\n                    />\n                  </Form.Label>\n                </Form.Group>\n              </Col>\n              <Col md={5}>\n                <Form.Group>\n                  <Form.Label htmlFor=\"dateTime\">Date and Time</Form.Label>\n                  <Form.Control\n                    type=\"datetime-local\"\n                    name=\"dateTime\"\n                    id=\"dateTime\"\n                    placeholder=\"Date and Time\"\n                    value={this.state.reservation.dateTime}\n                    onChange={this.updateReservationField}\n                    required\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Row>\n              <Col md={12}>\n                <Form.Group>\n                  <Form.Label htmlFor=\"specialRequests\">\n                    Special requests\n                  </Form.Label>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"specialRequests\"\n                    id=\"specialRequests\"\n                    placeholder=\"Your special requests\"\n                    value={this.state.reservation.specialRequests}\n                    onChange={this.updateReservationField}\n                  />\n                </Form.Group>\n              </Col>\n            </Row>\n            <Button type=\"submit\">Submit</Button>\n          </Form>\n        )}\n        {this.state.loading && (\n          <div className=\"d-flex justify-content-center my-5\">\n            Reserving your table, please wait\n            <div className=\"ml-2\">\n              <Spinner animation=\"border\" variant=\"success\" />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ReservationForm;\n"]},"metadata":{},"sourceType":"module"}